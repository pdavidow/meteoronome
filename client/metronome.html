<head>
    <title>Metronome</title>
</head>

<body>
{{> main}}
</body>

<template name="main">
    <select selected={{defaultLibaryPieceHolderSelection}}>
        {{#each libraryPieceHolders}}
            <option selected value={{_id}}>{{piece.displayString}}</option>
        {{/each}}
    </select>
    <br/><br/>
    <button id="start" disabled={{isMetronomeStarted}}>Start</button>
    <button id="stop" disabled={{isMetronomeStopped}}>Stop</button>
    <br/><br/>
    {{> status}}
    <br/><br/>
    {{> setting}}
</template>

<template name="status">
    {{currentBeat}}
    {{#if isLoop}}
        <br/>
        Loop# {{loopCount}}
    {{/if}}
</template>

<template name="setting">
    Classic-ticks per minute <input type="number" min="1" step="1" id="classicTicksPerMinute" value={{classicTicksPerMinute}} disabled={{isMetronomeStarted}} />
    <br/>
    Classic-ticks per beat <input type="number" min="1" step="1" id="classicTicksPerBeat" value={{classicTicksPerBeat}} disabled={{isMetronomeStarted}} />
    <br/>
    Loop? <input class="check" id="isLoop" type="checkbox" checked={{isLoop}} disabled={{isMetronomeStarted}}>
    <br/>
    Use entire piece? <input class="check" id="isUseEntirePiece" type="checkbox" checked={{isUseEntirePiece}} disabled={{isMetronomeStarted}}>
    <br/>
    Begin beat index <input type="number" min="1" step="1" id="beginBeatIndex" value={{beginBeatIndex}} disabled={{isDisableIndexField}} />
    <br/>
    Begin measure index <input type="number" min="1" max={{measureAmount}} step="1" id="beginMeasureIndex" value={{beginMeasureIndex}} disabled={{isDisableIndexField}} />
    <br/>
    End beat index <input type="number" min="1" step="1" id="endBeatIndex" value={{endBeatIndex}} disabled={{isDisableIndexField}} />
    <br/>
    End measure index <input type="number" min="1" max={{measureAmount}} step="1" id="endMeasureIndex" value={{endMeasureIndex}} disabled={{isDisableIndexField}} />
</template>
